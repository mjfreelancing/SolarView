<table class="table table-settings">
  <tbody>
    <tr class="row">
      <th scope="row" class="col-sm-6 col-md-4">Site Id</th>
      <td class="col-sm-6 col-md-8">@CurrentSite.SiteId</td>
    </tr>
    <tr class="row">
      <th scope="row" class="col-sm-6 col-md-4">Start Date</th>
      <td class="col-sm-6 col-md-8">@CurrentSite.StartDate</td>
    </tr>
    <tr class="row">
      <th scope="row" class="col-sm-6 col-md-4">Contact</th>
      <td class="col-sm-6 col-md-8">@CurrentSite.ContactName</td>
    </tr>
    <tr class="row">
      <th scope="row" class="col-sm-6 col-md-4">Email</th>
      <td class="col-sm-6 col-md-8">@CurrentSite.ContactEmail</td>
    </tr>
    <tr class="row">
      <th scope="row" class="col-sm-6 col-md-4">TimeZone</th>
      <td class="col-sm-6 col-md-8">@CurrentSite.TimeZoneId</td>
    </tr>
    <tr class="row">
      <th scope="row" class="col-sm-6 col-md-4">Last Refresh</th>
      <td class="col-sm-6 col-md-8">@CurrentSite.LastRefreshDateTime</td>
    </tr>
    <tr class="row">
      <th scope="row" class="col-sm-6 col-md-4">Last Aggregation</th>
      <td class="col-sm-6 col-md-8">@CurrentSite.LastAggregationDate</td>
    </tr>
    <tr class="row">
      <th scope="row" class="col-sm-6 col-md-4">Last Summary Email</th>
      <td class="col-sm-6 col-md-8">@CurrentSite.LastSummaryDate</td>
    </tr>
    <tr class="row">
      <td colspan="2" class="col-12">
        <button class="btn btn-outline-primary btn-width-medium mt-2" @onclick="RefreshSiteInfo">Refresh</button>
      </td>
    </tr>
  </tbody>
</table>

@code {
  [Inject] private ISiteViewModel SiteViewModel { get; set; }

  private ISiteDetails CurrentSite => SiteViewModel.CurrentSite;

  private async Task RefreshSiteInfo()
  {
    await SiteViewModel.RefreshCurrentSite();
  }
}
